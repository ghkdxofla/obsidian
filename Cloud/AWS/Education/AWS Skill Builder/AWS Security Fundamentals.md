# Abstract
- AWS 보안 관련 기본 교육
- 과정 요약
	- AWS 클라우드를 사용할 때의 보안 이점 및 책임 식별
	- AWS의 액세스 제어 및 액세스 관리 기능 설명     
	- 민감한 데이터를 보호하는 다양한 데이터 보호 서비스 식별
	- AWS 리소스에 대한 네트워크 액세스를 보호하는 방법 설명  
	- 보안 로깅 및 모니터링에 사용되는 AWS 서비스 파악
# Content 
## 소개
### 설계 원칙
- 클라우드에는 시스템 보안을 강화하는 데 도움이 되는 몇 가지 원칙이 있다.
### 강력한 자격 증명 기반 구현
- 최소 권한의 원칙 구현
- 직무 분리 적용
### 추적 기능 활성화
- 작업 및 변경 사항을 실시간으로 모니터링 및 알람 제공하여 감사(Audit) 시행
- 로그 및 지표를 시스템에 통합하여 자동으로 대응
### 모든 계층에 보안 적용
- 여러 계층에 보안 제어 기능을 추가
### 보안 모범 사례 자동화
- 확장 시 보안, 속도 및 비용 효율성  개선
- 버전 관리 템플릿을 코드로 관리
### 전송 중 데이터 및 저장된 데이터 보호
- 데이터를 민감도 수준으로 분류하여 암호화 및 액세스 제어 사용
### 최소 권한의 원칙 적용
- 액세스 권한이 필요한 사용자에게만 데이터 접근 권한 부여
- 모든 리소스에 대한 엑세스 거부 후 필요 시 권한 부여
### 보안 이벤트에 대비
- 조직 요구 사항에 부합하는 인시던트 관리 프로세스 마련

## AWS 글로벌 인프라
### Availability Zone(가용 영역)
- 물리적 데이터 센터를 `가용 영역`이라는 논리적 단위로 그룹화
- 가용 영역을 하나의 논리적 데이터 센터로 생각할 수 있음
### Region(리전)
- 가용 영역을 AWS 리전으로 그룹화
- 일반적으로 2개 이상의 가용 영역
- 물리적으로 분리되어 서로 격리되어 있기 때문에 한 가용 영역에 장애가 발생해도 다른 가용 영역이 영향을 받지 않음
- 데이터가 특정 국가에 위치해야 하거나 특정 국가로 복제되어야 하는 규정 준수 요구 사항이 있는 경우 해당 위치의 리전을 사용해야 함
- 모든 리전에서 모든 AWS 서비스가 제공되는 것이 아니므로 사용할 `서비스 가용성`도 중요
- 리전 별 비용도 다름
## 데이터 센터 보안
### 경계 계층
- 건물 자체가 보안이 좋다
### 환경 계층
- 내결함성과 짧은 지연 시간을 위해 동일한 리전 내 여러 가용 영역에 걸쳐 애플리케이션을 배포
- 다양한 시나리오를 시뮬레이션하는 훈련을 통해 비즈니스 연속성 계획을 정기적으로 테스트
- AWS 클라우드에서 기업은 기존 데이터 센터에 비해 일반적으로 서버를 77% 더 적게 사용하고, 전력을 84% 더 적게 사용하며, 태양광과 풍력의 조합으로 28%의 친환경 에너지를 사용
### 인프라 계층
- 예비 전력 장비, HVAC 시스템 및 화재 진압 장비와 같은 요소가 모두 인프라 계층에 포함
### 데이터 계층
- 스토리지 디바이스는 고객 데이터를 완전히 제거하기 위해 NIST800-88 기술을 사용하여 폐기
## AWS에 대한 진입점
- AWS CLI, 콘솔, AWS SDK를 사용하여 API 호출
- AWS IAM을 통해 인증과 권한이 부여되어야 사용 가능
## 자격 증명 및 액세스 관리
### AWS IAM 사용자 및 그룹
- IAM에서 권한이 있는 사용자와 역할 기반 액세스를 설정
-  IAM은 AWS 계정 내에서 각 사용자와 사용자 권한을 생성 및 관리하기 위한 중앙 집중식 메커니즘
- ![[Pasted image 20231107113011.png]]
- IAM 그룹은 사용자 모음
### 자격 증명 및 액세스 관리를 위한 추가 AWS 서비스
- AWS Secrets Manager
	- AWS, 온프레미스, 타사 서비스의 리소스에 액세스하는 데 사용되는 보안 암호를 중앙에서 관리하도록 설계
	- 데이터베이스 자격 증명, 암호, 타사 API 키 및 임의 텍스트를 암호로 사용
	- 코드의 하드 코딩된 자격 증명을 Secrets Manager에 대한 API 호출로 바꿔 프로그래밍 방식으로 암호를 검색
- AWS Single Sign-On
	- 여러 AWS 계정과 비즈니스 애플리케이션에 대한 SSO 액세스를 중앙에서 관리
	- 많은 비즈니스 애플리케이션에 대한 SAML 통합을 기본적으로 제공
- AWS STS
	- 다른 역할을 맡은 IAM 사용자 또는 연동할 사용자에 대한 제한된 권한의 임시 자격 증명을 요청할 때 사용할 수 있는 웹 서비스
- AWS Directory Service
	- AWS Managed Microsoft AD
- AWS Organizations
	- 다수의 AWS 계정을 중앙에서 관리하고 정책을 적용

## 탐지 제어
### 로그 캡처 및 수집
- 거버넌스 프레임워크의 필수적인 부분이며 잠재적 보안 위협 또는 인시던트를 식별하는 데 사용
- AWS CloudTrail은 계정에 대한 API 호출을 기록
- 규정 준수를 입증하는 방법 중 하나는 모든 CloudTrail 로그를 변경 불가능한 형태로 유지하는 것
### 모니터링 및 알림
- Amazon CloudWatch를 사용하여 잠재적으로 불필요한 변경을 반영하는 이벤트 및 정보를 적절한 워크플로로 라우팅
- CloudWatch를 사용하여 리소스와 로그를 모니터링하고, 알림을 전송하며, 수정을 위한 자동화된 작업을 트리거
- ![[Pasted image 20231107135654.png]]
### AWS에서 감사 시행
- AWS Management Console을 AWS CLI와 함께 사용하여 다수의 규제, 표준 및 산업 기관에 적용되는 강력한 결과를 생성
- S3
	- 로깅에 대한 감사를 액세스 로그를 사용하여 시행 가능
	- 요청 유형, 요청 리소스 및 요청 제출 날짜 등의 세부정보가 포함됨
- ELB
	- 자체 액세스 로그를 사용하여 감사 시행 가능
	- 클라이언트의 IP 주소, 지연 시간 및 서버 응답을 포함한 정보를 캡처
	- 트래픽 패턴 분석 가능
- CloudWatch
	- CloudWatch Logs 활성화 시, 실행 중인 모든 운영 체제와 애플리케이션을 모니터링 가능
	- 특정 구문, 패턴 또는 값을 확인하여 모니터링 가능
- [[Amazon VPC]]
	- [[VPC Flow Log]]를 통해 감사 시행 및 연결, 보안 문제 파악 가능
	- 네트워크 액세스 규칙 구성이 올바른지 확인
	- 네트워크 인터페이스 및 서브넷의 IP 트래픽 정보 캡처
- CloudTrail
	- 콘솔, AWS CLI, AWS SDK 등 API 호출 기록 확인 가능
- 기타 서비스
	- Amazon GuardDuty
	- AWS Trusted Advisor
	- AWS Security Hub
		- AWS 계정 전반에 걸쳐 우선 순위가 높은 보안 경고 및 규정 준수 상태를 단일 위치에서 확인할 수 있는 서비스
	- AWS Config
		- 규정을 위반하는 구성을 거의 실시간으로 탐지하는 데 도움이 되는 지속적인 모니터링 및 평가 서비스
		- 리소스의 현재 및 과거 구성을 확인하고, 이 정보를 사용하여 중단 문제를 해결하고 보안 공격 분석을 수행
		- 리소스에 대한 지속적인 평가 검사를 실행하여 자체 보안 정책, 업계 모범 사례 및 규정 준수 표준을 준수하는지 확인
## 인프라 보호
### 격리를 통한 보호
- 의도하지 않은 무단 액세스 및 기타 잠재적 취약성으로부터 워크로드 내의 시스템 및 리소스가 보호
### 애플리케이션 및 OS 보안
- 모든 서버를 강화하며 적절한 패치를 적용하는 작업이 포함
- AWS Systems Manager
	-  시스템 인벤토리 수집, 운영 체제 패치 적용, 최신 바이러스 차단 정의 유지 관리, 운영 체제 및 애플리케이션 대규모 구성과 같은 관리 작업의 자동화
	- 인스턴스 및 인스턴스에 설치된 소프트웨어의 정보를 수집
	- Parameter Store를 통해 보안 암호 형식의 데이터를 관리할 수 있는 중앙 스토어 제공
	- 서버 접속 없이 여러 인스턴스를 원격 관리
	- SSH, Bastion Host 없이 브라우저 기반 또는 CLI로 관리 가능
### 추가 서비스들
- AWS Firewall Manager
	- 계정과 애플리케이션에 대한 AWS WAF 규칙을 중앙에서 구성하고 관리할 수 있는 보안 관리 서비스
- AWS Direct Connect
	- 온프레미스에서 AWS로의 전용 보안 네트워크 연결을 설정하는 데 사용되는 클라우드 서비스 솔루션
	- AWS와 고객의 데이터 센터, 사무실 또는 코로케이션 환경 간에 프라이빗 연결을 설정
- AWS CloudFormation
	- AWS 리소스를 반복적으로 생성하고 배포하는 작업을 일관된 방식으로 자동화하고 간소화
- Amazon Inspector
	- AWS에서 배포된 애플리케이션의 보안과 규정 준수를 개선하는 데 도움이 되는 자동화된 보안 평가 서비스
	- 애플리케이션의 취약성 또는 모범 사례 위반을 평가
	- 심각도 수준에 따라 우선 순위가 지정된 상세한 보안 평가 결과 목록을 제공
	- AWS Lambda와 함께 사용하면 특정 보안 작업을 자동화
	- ![[Pasted image 20231107164003.png]]
## 데이터 보호
### 저장된 데이터 보호
- S3의 암호화 옵션 사용
	- ![[Pasted image 20231107164211.png]]
### 전송 중 데이터 보호
- 통신에 TLS를 사용하는 HTTPS 엔드포인트를 제공함으로써 AWS API와 통신할 때 엔드 투 엔드 암호화를 제공
- 웹 기반 워크로드에서 TLS 암호화에 사용되는 퍼블릭 및 프라이빗 인증을 생성, 배포 및 관리
- VPN 연결과 함께 IPsec을 사용하여 트래픽의 암호화
### 추가 서비스들
- AWS CloudHSM
	- AWS 클라우드에서 사용할 수 있는 HSM(하드웨어 보안 모듈)을 제공
	- 대칭적 키 및 비대칭적 키 페어를 포함한 암호화 키에 대한 생성, 저장, 가져오기, 내보내기 및 관리 작업을 수행
- S3 Glacier
	- 데이터 아카이브 및 백업을 목적으로 내구성이 뛰어나고 매우 저렴하며 보안 기능이 탑재된 스토리지를 제공
	- 데이터를 아카이브 단위로 볼트 내에 저장
- AWS Certificate Manager
	- AWS 기반 웹 사이트 및 애플리케이션을 위한 퍼블릭 SSL/TLS 인증서를 생성하고 관리하는 복잡성을 처리
- Amazon Macie
	- 기계 학습을 사용하여 AWS에 있는 민감한 데이터를 자동으로 검색, 분류 및 보호
- AWS KMS
	- 데이터 암호화에 사용되는 키를 생성하고 제어할 수 있는 관리형 서비스
	- 애플리케이션에서 직접 키 관리 및 암호화 기능을 사용하거나, 감사, 규제 및 규정 준수 요구 사항을 충족하는 데 도움이 되는 AWS CloudTrail 등 AWS KMS와 통합되는 AWS 서비스를 통해 사용
## 인시던트 대응
- API를 사용하여 인시던트 대응 중에 수행해야 하는 많은 일상적인 작업을 자동화
- [Amazon EBS(opens in a new tab)](https://aws.amazon.com/ebs/) 스냅샷과 Amazon EC2 API를 사용하여 조사 중인 시스템의 데이터와 상태를 캡처
- [AWS CloudFormation(opens in a new tab)](https://aws.amazon.com/cloudformation/)을 사용하면 심층 조사를 수행할 신뢰할 수 있는 새로운 환경을 신속하게 생성
### 추가 서비스들
- AWS Step Functions
	- 여러 AWS 서비스를 서버리스 워크플로로 조정하여 앱을 신속하게 빌드 및 업데이트
	- AWS Lambda 및 AWS CloudFormation과 같은 서비스를 하나로 연결하여 클라우드의 인시던트에 대응하는 워크플로를 설계하고 실행
- ![[Pasted image 20231107164734.png]]
## DDoS 완화
### 엣지에서 보호
- 여러 AWS 서비스를 조합하여 사용하면 DDoS 공격을 차단하는 것과 관련된 심층 방어 전략을 구현
- DDoS 공격에 대한 자동 대응 기능을 제공하고 영향을 완화 및 축소하는 데 걸리는 시간을 최소화하도록 설계
- 가용성에 미치는 영향을 최소화하면서 DDoS 공격 흡수 및 장애 격리 기능을 강화하는 네트워크 인프라의 추가 계층을 제공
- ![[Pasted image 20231107164908.png]]
### 추가 서비스들
- Amazon Route 53
	- 가용성과 확장성이 뛰어난 DNS 서비스로서 트래픽을 웹 애플리케이션으로 보내는 데 사용
	- 트래픽 흐름, 지연 시간 기반 라우팅, 가중치 기반 라운드 로빈, 지역 DNS, 상태 검사, 모니터링 등 많은 고급 기능이 포함
- Amazon CloudFront
	- 전체 웹 사이트를 포함하여 최종 사용자에게 데이터를 전송하는 데 사용할 수 있는 CDN(콘텐츠 전송 네트워크) 서비스
- AWS Shield
	- AWS에서 실행되는 웹 애플리케이션을 보호하는 관리형 DDoS 방어 서비스